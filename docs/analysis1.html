<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Simon Krukowski">

<title>Medienbasierte Wissenskonstruktion mit R - Skalen mit across()</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Medienbasierte Wissenskonstruktion mit R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./assignments-overview.html" rel="" target="">
 <span class="menu-text">Übungsblätter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html" rel="" target="">
 <span class="menu-text">Kontakt</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ntn.html" rel="" target="">
 <span class="menu-text">Nice to Know</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./analysis1.html">Anwendung: Fragebögen I</a></li><li class="breadcrumb-item"><a href="./analysis1.html">Skalen mit across()</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./assets/img/logo_ude.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Basics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Download &amp; Installation von R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction &amp; Basics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Data Wrangling &amp; Visualisierung</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datawrangling_base.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datawrangling_dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wrangling mit dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataviz_ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualisierung mit ggplot2</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Inferenzstatistik &amp; Berichten</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./content3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inferenzstatistik in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto_reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Berichte in Quarto</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Anwendung: Fragebögen I</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Skalen mit across()</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wide/long Format</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inferenzstatistische Analyse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Anwendung: Fragebögen II</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis2_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Apply &amp; Multiple data sources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zusammenhängende Dataframes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5factorplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Umgang mit Faktoren in Plots</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Datum &amp; Ausreißer</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis3_1_dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dates &amp; Times</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ausreißeranalyse</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#konkrete-anwendungsfälle-studien-limesurvey" id="toc-konkrete-anwendungsfälle-studien-limesurvey" class="nav-link active" data-scroll-target="#konkrete-anwendungsfälle-studien-limesurvey">Konkrete Anwendungsfälle: Studien &amp; Limesurvey</a>
  <ul class="collapse">
  <li><a href="#überblick" id="toc-überblick" class="nav-link" data-scroll-target="#überblick">Überblick</a></li>
  <li><a href="#hintergrund" id="toc-hintergrund" class="nav-link" data-scroll-target="#hintergrund">Hintergrund</a></li>
  <li><a href="#instrumente" id="toc-instrumente" class="nav-link" data-scroll-target="#instrumente">Instrumente</a>
  <ul class="collapse">
  <li><a href="#srl-herausforderungen" id="toc-srl-herausforderungen" class="nav-link" data-scroll-target="#srl-herausforderungen">SRL-Herausforderungen</a></li>
  <li><a href="#gewissenhaftigkeit" id="toc-gewissenhaftigkeit" class="nav-link" data-scroll-target="#gewissenhaftigkeit">Gewissenhaftigkeit</a></li>
  <li><a href="#suboptimale-lernumgebung" id="toc-suboptimale-lernumgebung" class="nav-link" data-scroll-target="#suboptimale-lernumgebung">Suboptimale Lernumgebung</a></li>
  </ul></li>
  <li><a href="#materialien-methoden" id="toc-materialien-methoden" class="nav-link" data-scroll-target="#materialien-methoden">Materialien &amp; Methoden</a>
  <ul class="collapse">
  <li><a href="#nas-eliminieren" id="toc-nas-eliminieren" class="nav-link" data-scroll-target="#nas-eliminieren">NAs eliminieren</a></li>
  <li><a href="#items-umkodieren" id="toc-items-umkodieren" class="nav-link" data-scroll-target="#items-umkodieren">Items umkodieren</a></li>
  <li><a href="#fragebögen-prüfen" id="toc-fragebögen-prüfen" class="nav-link" data-scroll-target="#fragebögen-prüfen">Fragebögen prüfen</a></li>
  <li><a href="#exkurs-itemschwierigkeit-etc." id="toc-exkurs-itemschwierigkeit-etc." class="nav-link" data-scroll-target="#exkurs-itemschwierigkeit-etc.">Exkurs: Itemschwierigkeit etc.</a></li>
  <li><a href="#sumscores-mit-across-und-rowmeans" id="toc-sumscores-mit-across-und-rowmeans" class="nav-link" data-scroll-target="#sumscores-mit-across-und-rowmeans">Sumscores mit <code>across()</code> und <code>rowMeans()</code></a></li>
  <li><a href="#sumscores-mit-rowwise-und-mean" id="toc-sumscores-mit-rowwise-und-mean" class="nav-link" data-scroll-target="#sumscores-mit-rowwise-und-mean">Sumscores mit <code>rowwise()</code> und <code>mean()</code></a></li>
  </ul></li>
  <li><a href="#aufgabe-subskalen-für-gewissenhaftigkeit" id="toc-aufgabe-subskalen-für-gewissenhaftigkeit" class="nav-link" data-scroll-target="#aufgabe-subskalen-für-gewissenhaftigkeit">Aufgabe: Subskalen für Gewissenhaftigkeit</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Skalen mit across()</h1>
<p class="subtitle lead">Seminar[4] &lt;- Konkrete Anwendungsfälle: Studien &amp; Limesurvey</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Simon Krukowski </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>palette1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#648fff"</span>,<span class="st">"#785ef0"</span>,<span class="st">"#dc267f"</span>,<span class="st">"#fe6100"</span>,<span class="st">"#ffb000"</span>,<span class="st">"#000000"</span>,<span class="st">"#ffffff"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>palette2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#CC79A7"</span>,<span class="st">"#D55E00"</span>,<span class="st">"#0072B2"</span>,<span class="st">"#F0E442"</span>,<span class="st">"#009E73"</span>,<span class="st">"#56B4E9"</span>,<span class="st">"#E69F00"</span>,<span class="st">"#000000"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="konkrete-anwendungsfälle-studien-limesurvey" class="level1">
<h1>Konkrete Anwendungsfälle: Studien &amp; Limesurvey</h1>
<section id="überblick" class="level2">
<h2 class="anchored" data-anchor-id="überblick">Überblick</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/img/limesurvey.png" class="img-fluid figure-img" width="1000"></p>
</figure>
</div>
<p>In der letzten Woche habt ihr kennengelernt, wie wir mit R ganz einfach statistische Verfahren anwenden können, um relevante Fragestellungen zu beantworten. Dabei habt ihr sowohl gelernt, wie ihr einfache deskriptive Analysen macht, als auch komplexere, inferenzstatistische Methoden anwendet. Zuletzt habt ihr dann noch gelernt, wie ihr eure Ergebnisse in einem Bericht “publizierfähig” speichern könnt.</p>
<p>In dieser Woche soll es darum gehen, diese Fähigkeiten mit denen aus den vorigen Wochen zu verknüpfen, und gemeinsam an einem konkreten Beispiel zu arbeiten. Dabei wollen wir mit einem Datensatz arbeiten, wie ihr ihn auch erhalten könntet, wenn ihr bspw. mit Limesurvey arbeitet.</p>
</section>
<section id="hintergrund" class="level2">
<h2 class="anchored" data-anchor-id="hintergrund">Hintergrund</h2>
<p>Zunächst soll es hier aber ein wenig um den Datensatz bzw. die Studie gehen, die wir untersuchen. Der Datensatz ist ein Auszug aus einer Studie, die im Rahmen einer Abschlussarbeit erhoben wurde. Dabei ging es darum, den Einfluss verschiedener Faktoren auf das selbstregulierte Lernen (SRL) während der Corona-Pandemie zu untersuchen.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/img/ma_model.png" class="img-fluid figure-img" width="1000"></p>
</figure>
</div>
<p>Konkret ging es darum, die empfundenen <strong>Herausforderungen</strong> beim selbstregulierten Lernen entsprechend zu erfassen und herauszufinden, inwiefern diese durch individuelle Faktorenwie <strong>Gewissenhaftigkeit</strong> bzw. situative Faktoren wie die <strong>Lernumgebung</strong> beeinflusst werden.</p>
<p>Bei der Studie handelte es sich um eine Fragebogenstudie mit kleineren Tests, und die abhängige Variable (SRL-Herausforderungen) sowie die unabhängigen Variablen bzw. Prädiktoren (<strong>Gewissenhaftigkeit</strong>/<strong>Lernumgebung</strong>) wurden mittels Fragebögen erhoben. Diese wollen wir uns nun kurz anschauen.</p>
</section>
<section id="instrumente" class="level2">
<h2 class="anchored" data-anchor-id="instrumente">Instrumente</h2>
<p>Im Rahmen der Studie wurden einige Instrumente verwendet, über die es gut ist, ein wenig zu erfahren, bevor wir mit der Auswertung beginnen.</p>
<section id="srl-herausforderungen" class="level3">
<h3 class="anchored" data-anchor-id="srl-herausforderungen">SRL-Herausforderungen</h3>
<p>Der Fragebogen basierte auf einem angepassten Fragebogen zu Herausforderungen beim kollaborativen Lernen <span class="citation" data-cites="spang2020">Spang, Fett, and Greisel (<a href="#ref-spang2020" role="doc-biblioref">2020</a>)</span>. Er umfasst 96 Items mit 32 Facetten, abgebildet auf einer 5-stufigen Likert Skala von (1 = kein Problem bis 5 = großes Problem). Hier sieht man ein paar Beispiele sowie im Hintergrund die Facetten:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/img/srl_questionnaire.png" class="img-fluid figure-img" width="1000"></p>
</figure>
</div>
</section>
<section id="gewissenhaftigkeit" class="level3">
<h3 class="anchored" data-anchor-id="gewissenhaftigkeit">Gewissenhaftigkeit</h3>
<p>Gewissenhaftigkeit (engl. <em>conscientiousness</em>) wurde erfasst mittels einer Subskala des deutschen Big-Five Inventorys (BFI-2) <span class="citation" data-cites="danner2019">Danner et al. (<a href="#ref-danner2019" role="doc-biblioref">2019</a>)</span>. Hier gab es 12 Items, die auf einer 6-Punkte Likert Skala von (1 = nicht wahr, 6 = wahr) beantwortet werden konnten. Beispielitems waren:</p>
<ul>
<li><p>„Ich bleibe an einer Aufgabe dran, bis sie erledigt ist.”</p></li>
<li><p>„Ich bin eher der chaotische Typ, mache selten sauber.”</p></li>
</ul>
</section>
<section id="suboptimale-lernumgebung" class="level3">
<h3 class="anchored" data-anchor-id="suboptimale-lernumgebung">Suboptimale Lernumgebung</h3>
<p>Hier bezieht sich Lernumgebung nicht auf eine digitale Lernumgebung wie bspw. Moodle, sondern konkret auf die physische Lernumgebung, die die Lernenden bei sich zuhause haben. Dazu wurden 7 Items entsprechend 3 Dimensionen entwickelt, mit Items wie:</p>
<ul>
<li><p>An meinem Lernplatz bin ich von vielen Umgebungsgeräuschen (bspw. Staßenlärm, Gespräche) umgeben.</p></li>
<li><p>Ich habe einen festen Ort, an dem ich lerne.</p></li>
<li><p>Die Umgebungstemperatur an meinem Lernplatz ist oft zu kalt oder zu warm.</p></li>
</ul>
<p>Wir werden ab jetzt den Fragebogen als <code>suboptimal_study</code> bezeichnen.</p>
</section>
</section>
<section id="materialien-methoden" class="level2">
<h2 class="anchored" data-anchor-id="materialien-methoden">Materialien &amp; Methoden</h2>
<p>Beginnen wir also mit der Auswertung. Ladet euch dazu im Moodle den Datensatz <code>dataset_srl_challenges.csv</code> herunter und ladet ihn entsprechend in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataset_srl_challenges.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nun schauen wir uns die Daten an, um ein Gefühl dafür zu bekommen. Mit 238 Spalten bzw. Variablen ist der Datensatz nicht klein, und mag auf den ersten Blick unübersichtlich wirken.</p>
<blockquote class="blockquote">
<p>Frage: Welche könnten die relevanten Variablen (siehe oben) sein?</p>
</blockquote>
<p>Mit etwas Scharfsinn können wir sicherlich ermitteln, welche die für uns relevanten Variablen in diesem Dschungel aus Spalten sind. Generell empfiehlt es sich hier allerdings immer, mit einem <code>Codebook</code> zu arbeiten. Wenn wir mit <strong>Limesurvey</strong> erheben, ist die einfachste Art und Weise, an ein Codebook zu kommen folgende:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/img/umfragelogikdatei.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
<p>Dort bekommt ihr eine genaue Übersicht über die in eurem Datensatz auftauchenden Variablen, sowie die dazugehörigen Ausprägungen etc. Hier sei besonders erwähnt, dass Datensätze üblicherweise nicht so eine schöne Form haben, wie wir es bis jetzt gewohnt waren (bspw. numerische Ausprägungen von 1 bis 5). Vielmehr kann es passieren, dass ihr in eurem Datensatz für eine Variable mit einer 5-stufigen Likert Skala folgende Ausprägungen habt:</p>
<p>Da stellt sich natürlich direkt die Frage, wie die Polarität ist, und wie wir die Variable so umformatieren können, dass wir damit normal rechnen können. Dabei kann die Umfragelogikdatei bzw. ein Codebook sehr helfen. In unserem Fall haben wir leider keine Umfrage-Logikdatei, sondern ein Codebook. Dieses findet ihr ebenfalls im Moodle als <code>codebook.xlsx</code>.</p>
<section id="nas-eliminieren" class="level3">
<h3 class="anchored" data-anchor-id="nas-eliminieren">NAs eliminieren</h3>
<p>Bevor wir aber an die einzelnen Skalen gehen, wollen wir <code>NAs</code> eliminieren, sofern diese in unserem Datensatz existieren.</p>
<blockquote class="blockquote">
<p>Frage: Wie würden wir da vorgehen?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(submitdate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="items-umkodieren" class="level3">
<h3 class="anchored" data-anchor-id="items-umkodieren">Items umkodieren</h3>
<blockquote class="blockquote">
<p>Frage: Welche Items könnten uns noch Probleme bereiten bzw. müssen umkodiert werden, bevor wir starten können?</p>
</blockquote>
<p>Ein kurzer Blick in die Daten über <code>view()</code> zeigt, dass alle Items des Gewissenhaftigkeitsfragebogens (<code>gh_</code> etc.) unschön kodiert sind. Um das zu ändern, bieten sich einige Optionen an. Wir wollen hier mit <code>dplyr</code> und <code>case_when</code> arbeiten. Die Syntax sieht wie folgt aus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_variable =</span> <span class="fu">case_when</span>(new_variable <span class="sc">==</span> condition1 <span class="sc">~</span> new_val1,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                                  new_variable <span class="sc">==</span> condition2 <span class="sc">~</span> new_val2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir sehen, wie wir für jede einzelne Ausprägung von <code>new_variable</code> entscheiden können, wie <code>new_val</code> dann aussehen soll. Hier kann man auch mehrere Bedingungen verknüpfen, bspw. zusätzlich noch Ausprägungen in anderen Variablen berücksichtigen und dann mit <code>&amp;</code> arbeiten.</p>
<blockquote class="blockquote">
<p>Frage: Wenn wir dies nun für unsere Variablen machen wollen, wie würden wir vorgehen?</p>
</blockquote>
<p>Dies für jede einzelne Variable zu machen ist natürlich ganz schön aufwändig. Glücklicherweise fangen alle betreffenden Items mit <code>gh_</code> an, sodass wir diese über <code>across()</code> und <code>starts_with()</code> auswählen können. Das <code>across()</code> hilft uns hier, mehrere Spalten auszuwählen, in Abhängigkeit von Kriterien (in diesem Fall der Name). Doch was genau macht <code>across()</code>?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/img/mutate.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
<p>Im Gegensatz zu <code>mutate()</code> (ohne across) und <code>summarise()</code>, welche quasi Werte über Zeilen hinweg aggregieren, können wir mittels <code>mutate(across())</code> Werte über Spalten hinweg aggregieren. Das kann sehr hilfreich sein, wenn wir Summenscores bilden wollen. Schaut euch die Syntax hier am besten mal an, und übernehmt sie in eurem Code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"gh_"</span>),<span class="cf">function</span>(x) <span class="fu">case_when</span>(x <span class="sc">==</span> <span class="st">"A01"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A02"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A03"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A04"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A05"</span> <span class="sc">~</span> <span class="dv">5</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Jetzt müssen wir das natürlich noch über <code>&lt;-</code> im Datensatz speichern.</p>
<div class="cell">
<details>
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"gh_"</span>),<span class="cf">function</span>(x) <span class="fu">case_when</span>(x <span class="sc">==</span> <span class="st">"A01"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A02"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A03"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A04"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                                                         x <span class="sc">==</span> <span class="st">"A05"</span> <span class="sc">~</span> <span class="dv">5</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="fragebögen-prüfen" class="level3">
<h3 class="anchored" data-anchor-id="fragebögen-prüfen">Fragebögen prüfen</h3>
<p>Bevor wir die Fragebögen verwenden können, müssen wir natürlich erst deren Güte prüfen. Starten wir mit unserem Fragebogen für die <strong>Lernumgebung</strong>. Die packages <code>psych</code> und <code>sjPlot</code> bieten einige praktische Funktionen, die wir hier direkt anwenden können. Über <code>psych::alpha()</code> bekommen wir für eine Auswahl an Spalten Cronbach’s Αlpha berechnet. Über <code>select()</code> können wir die betreffenden Spalten vorher auswählen.</p>
<blockquote class="blockquote">
<p>Frage: Berechnet Cronbachs Alpha für die 7 Items des Lernumgebungsfragebogens (<code>sl_SQ001</code> etc.). Was fällt auf?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">select</span>(sl_SQ001,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        sl_SQ002,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        sl_SQ003,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        sl_SQ004,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        sl_SQ005,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        sl_SQ006,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        sl_SQ007)<span class="sc">%&gt;%</span> psych<span class="sc">::</span><span class="fu">alpha</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oh nein! Ein genauerer Blick auf die Items (oder entsprechendes Wissen) hätte verraten, dass manche Items <strong>negativ kodiert</strong> sind. Das zerschießt uns natürlich jegliches Cronbach’s Alpha. Auch da kann <code>dplyr</code> und <code>case_when</code> helfen.</p>
<blockquote class="blockquote">
<p>Frage: Kodiert die Variablen <code>sl_SQ_001</code> und <code>sl_SQ006</code> entsprechend um. Die Werte (min-max) findet ihr bspw. über <code>summary(dataset$sl_SQ001</code>) heraus. Kodiert so um, dass auf 1 eine 6 wird, aus 2 eine 5 usw. Hier nochmal die Syntax, wie ihr mittels <code>across()</code> und <code>case_when</code> einzelne Spalten auswählt. Achtet vor allem auf die Klammern!</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(variable1,variable2), <span class="cf">function</span>(x) <span class="fu">case_when</span>(x<span class="sc">==</span>condition <span class="sc">~</span> newval)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(sl_SQ001,sl_SQ006),<span class="cf">function</span>(x) <span class="fu">case_when</span>(x<span class="sc">==</span><span class="dv">1</span> <span class="sc">~</span> <span class="dv">6</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                                         x<span class="sc">==</span><span class="dv">2</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                                                         x<span class="sc">==</span><span class="dv">3</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                                                         x<span class="sc">==</span><span class="dv">4</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                                                         x<span class="sc">==</span><span class="dv">5</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                                                         x<span class="sc">==</span><span class="dv">6</span> <span class="sc">~</span> <span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ein neuer Blick auf Cronbachs α verrät, dass unser Umkodieren etwas bewirkt hat, die Fehlermeldung ist verschwunden und der Wert hat sich verbessert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">select</span>(sl_SQ001,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        sl_SQ002,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        sl_SQ003,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        sl_SQ004,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        sl_SQ005,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        sl_SQ006,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        sl_SQ007)<span class="sc">%&gt;%</span> psych<span class="sc">::</span><span class="fu">alpha</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exkurs-itemschwierigkeit-etc." class="level3">
<h3 class="anchored" data-anchor-id="exkurs-itemschwierigkeit-etc.">Exkurs: Itemschwierigkeit etc.</h3>
<p>Um hier nicht zu tief in Test- und Fragebogenkonstruktion abzutauchen, hier nur als kleiner Exkurs: Das package <code>sjPlot</code> kann uns dabei helfen, wichtige Eigenschaften über die Items zu gewinnen, bevor wir Cronbachs α berechnen. Dazu gehören die Itemschwierigkeit (<code>item difficulty</code>) und die Trennschärfe der Items (<code>item discrimination</code>). Der einfache Befehl <code>tab_itemscale()</code> gibt uns gleich ein publizierfähiges Plot:</p>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">select</span>(sl_SQ001,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        sl_SQ002,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        sl_SQ003,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        sl_SQ004,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        sl_SQ005,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        sl_SQ006,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        sl_SQ007)<span class="sc">%&gt;%</span> sjPlot<span class="sc">::</span><span class="fu">tab_itemscale</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table">
<caption>Component 1</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Row</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Missings</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Mean</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">SD</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Skew</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Item Difficulty</td>
<td data-quarto-table-cell-role="th">Item Discrimination</td>
<td data-quarto-table-cell-role="th">α if deleted</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sl_SQ001</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.03</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.28</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.41</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.34</td>
<td>0.28</td>
<td>0.55</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">sl_SQ002</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">2.7</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">1.4</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.59</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.45</td>
<td>0.33</td>
<td>0.53</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sl_SQ003</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3.91</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.43</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-0.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.65</td>
<td>0.40</td>
<td>0.51</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">sl_SQ004</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">2.93</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">1.53</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.5</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.49</td>
<td>0.23</td>
<td>0.57</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sl_SQ005</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.75</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.44</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.63</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.46</td>
<td>0.41</td>
<td>0.50</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">sl_SQ006</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">4.87</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">1.7</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">-1.3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; background-color: #f2f2f2;">0.81</td>
<td>0.19</td>
<td>0.59</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">sl_SQ007</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">0.00 %</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">2.22</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">1.4</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">1.11</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">0.37</td>
<td>0.30</td>
<td>0.54</td>
<td></td>
</tr>
<tr class="odd">
<td colspan="9" style="text-align: right; font-style: italic; border-top: double black;">Mean inter-item-correlation=0.170 · Cronbach's α=0.581</td>
</tr>
</tbody>
</table>


</div>
<p>Wir können sehen, dass die Itemschwierigkeit bei den meisten Items nahe 0.50 ist, und die Trennschärfe auch nicht zu klein (bis auf vereinzelte Items wie <code>sl_sq006</code>.</p>
<p>Durch eine exploratorische Faktoranalyse, welche wir hier nicht rechnen werden, wurde herausgefunden, dass nicht alle Items unser Konzept <strong>suboptimale Lernumgebung</strong> gut vorhersagen. Daher haben wir uns entschieden, die folgenden Items zu nehmen: <code>sl_SQ002</code>, <code>sl_SQ003</code>, <code>sl_SQ005</code> und <code>sl_SQ007</code>. Diese bilden einen Faktor ab, weshalb es nun auch Sinn ergibt hierfür Cronbachs α zu berechnen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sl_SQ002,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  sl_SQ003,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  sl_SQ005,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  sl_SQ007)<span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dieses ist mit 0.58 zwar immer noch nicht sonderlich gut, im Rahmen dieser Zufallsstichprobe allerdings OK. Wir wollen diese Items nun zusammenfassen, da wir lieber mit einem Wert für <code>suboptimal_study</code> arbeiten wollen. Dazu gibt es zwei Wege:</p>
</section>
<section id="sumscores-mit-across-und-rowmeans" class="level3">
<h3 class="anchored" data-anchor-id="sumscores-mit-across-und-rowmeans">Sumscores mit <code>across()</code> und <code>rowMeans()</code></h3>
<p><code>Across()</code> habt ihr oben bereits kennengelernt. In der Kombination mit der base-R <code>rowMeans()</code> Funktion können wir es nutzen, um Summen bzw. Meanscores für unsere Items zu bilden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_variable =</span> <span class="fu">rowMeans</span>(<span class="fu">across</span>(<span class="fu">c</span>(variable1,variable2))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Konkret sieht das dann so aus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">suboptimal_study =</span> <span class="fu">rowMeans</span>(<span class="fu">across</span>(<span class="fu">c</span>(sl_SQ002,sl_SQ003,sl_SQ005,sl_SQ007))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sumscores-mit-rowwise-und-mean" class="level3">
<h3 class="anchored" data-anchor-id="sumscores-mit-rowwise-und-mean">Sumscores mit <code>rowwise()</code> und <code>mean()</code></h3>
<p>Um Funktionen nicht mehr per Spalte, sondern per Zeile anzuwenden, bietet sich auch die Kombination aus <code>rowwise()</code> und Funktionen wie bspw. <code>mean()</code> an. Dabei sieht die Syntax wie folgt aus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>()</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_variable =</span> <span class="fu">mean</span>(<span class="fu">c</span>(variable1, variable2)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenden wir das also auf unseren Datensatz an:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">suboptimal_study =</span> <span class="fu">mean</span>(<span class="fu">c</span>(sl_SQ002,sl_SQ003,sl_SQ005,sl_SQ007))) <span class="sc">%&gt;%</span> <span class="fu">select</span>(suboptimal_study)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["suboptimal_study"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"3.50"},{"1":"2.75"},{"1":"3.50"},{"1":"3.00"},{"1":"2.00"},{"1":"3.50"},{"1":"2.25"},{"1":"4.00"},{"1":"3.00"},{"1":"2.75"},{"1":"2.50"},{"1":"3.00"},{"1":"4.00"},{"1":"2.50"},{"1":"3.50"},{"1":"4.25"},{"1":"3.25"},{"1":"3.75"},{"1":"3.00"},{"1":"4.25"},{"1":"2.50"},{"1":"3.00"},{"1":"5.00"},{"1":"5.00"},{"1":"3.00"},{"1":"3.75"},{"1":"2.75"},{"1":"3.75"},{"1":"2.50"},{"1":"3.00"},{"1":"3.25"},{"1":"1.75"},{"1":"2.75"},{"1":"2.00"},{"1":"1.75"},{"1":"3.00"},{"1":"2.50"},{"1":"2.25"},{"1":"1.25"},{"1":"2.00"},{"1":"1.50"},{"1":"1.75"},{"1":"3.50"},{"1":"1.75"},{"1":"2.50"},{"1":"3.75"},{"1":"3.50"},{"1":"3.25"},{"1":"3.25"},{"1":"3.00"},{"1":"3.25"},{"1":"4.00"},{"1":"1.50"},{"1":"5.75"},{"1":"2.00"},{"1":"2.50"},{"1":"4.00"},{"1":"3.00"},{"1":"3.00"},{"1":"3.00"},{"1":"1.00"},{"1":"5.25"},{"1":"2.75"},{"1":"2.50"},{"1":"1.25"},{"1":"1.75"},{"1":"3.25"},{"1":"5.50"},{"1":"3.25"},{"1":"2.75"},{"1":"1.50"},{"1":"2.50"},{"1":"3.75"},{"1":"3.75"},{"1":"3.25"},{"1":"2.75"},{"1":"2.25"},{"1":"2.75"},{"1":"2.25"},{"1":"2.00"},{"1":"3.25"},{"1":"2.50"},{"1":"3.00"},{"1":"3.00"},{"1":"2.00"},{"1":"1.50"},{"1":"2.25"},{"1":"3.25"},{"1":"3.25"},{"1":"4.50"},{"1":"2.25"},{"1":"2.00"},{"1":"2.50"},{"1":"3.25"},{"1":"1.50"},{"1":"2.25"},{"1":"2.50"},{"1":"3.25"},{"1":"1.75"},{"1":"2.25"},{"1":"3.75"},{"1":"3.00"},{"1":"3.00"},{"1":"3.75"},{"1":"2.50"},{"1":"3.00"},{"1":"3.75"},{"1":"2.00"},{"1":"2.00"},{"1":"3.00"},{"1":"2.00"},{"1":"2.75"},{"1":"5.75"},{"1":"3.25"},{"1":"1.75"},{"1":"1.75"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Wie zu sehen, erhalten wir dieselben Mittelwerte für unsere Skala, wie oben.</p>
</section>
</section>
<section id="aufgabe-subskalen-für-gewissenhaftigkeit" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-subskalen-für-gewissenhaftigkeit">Aufgabe: Subskalen für Gewissenhaftigkeit</h2>
<p>Nun wollen wir auch die Subskalen nach dem oben gezeigten Prinzip für unser Konstrukt <strong>Gewissenhaftigkeit</strong> prüfen. Dazu haben wir alles was wir brauchen:</p>
<ul>
<li><p>Datensatz</p></li>
<li><p>Codebook mit Variablennnamen und Labels</p></li>
<li><p>Literaturangabe <span class="citation" data-cites="danner2019">Danner et al. (<a href="#ref-danner2019" role="doc-biblioref">2019</a>)</span></p>
<ul>
<li><p>Mit Items sowie dazugehörigen Dimensionen</p></li>
<li><p>Namen der negativ-kodierten Items</p></li>
</ul></li>
</ul>
<p>Nutzt also die Informationen und eure neu-erlenten Skills, um nun die entsprechenden Subskalen (plot-twist: es sind mehr als eine) <strong>zu berechnen</strong> (als Mittelwerte). Gebt auch Cronbach’s α für die einzelnen Subskalen an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(dataset, <span class="st">"dataset_srl_challenges_wrangled.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-danner2019" class="csl-entry" role="listitem">
Danner, Daniel, Beatrice Rammstedt, Matthias Bluemke, Clemens Lechner, Sabrina Berres, Thomas Knopf, Christopher J. Soto, and Oliver P. John. 2019. <span>“Das Big Five Inventar 2.”</span> <em>Diagnostica</em> 65 (3): 121–32. <a href="https://doi.org/10.1026/0012-1924/a000218">https://doi.org/10.1026/0012-1924/a000218</a>.
</div>
<div id="ref-spang2020" class="csl-entry" role="listitem">
Spang, Laura, Kerstin Fett, and Martin Greisel. 2020. <span>“Probleme Beim Kollaborativen Lernen.”</span> <em>In Press</em>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>